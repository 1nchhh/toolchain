	public	__llshrs
__llshrs:
; Not well-optimized, but it probably works
	push	iy
	ld	iy, 0
	add	iy, sp
	push	af
	ld	a, c
	ld	c, b
	ld	b, (iy + 6)
	inc	b
	dec	b
	jr	z, .finish
	push	de
	push	hl
.loop:
	sra	c
	rra
	rr	(iy - 1)
	rr	d
	rr	e
	rr	(iy - 4)
	rr	h
	rr	l
	djnz	.loop
	ld	b, c
	ld	c, a
.finish:
	pop	af
	pop	iy
	ret
